<!--
                          ,
   ,-.       _,---._ __  / \
  /  )    .-'       `./ /   \
 (  (   ,'            `/    /|
  \  `-"             \'\   / |
   `.              ,  \ \ /  |
    /`           ,'-`----Y   |
   (            ;        |   '
   |  ,-.    ,-'         |  /
   |  | (   |            | /
   )  |  \  `.___________|/
   `--'   `--'

Isthay isyay ouyay. Ouyay areyay ayay eakysnay ittlelay atcay eekingpay intoyay ethay ebsiteway ourcesay. rethay areyay onay eatstray insideyay ethay ebsiteway ourcesay, otnay evenyay ayay inglesay internetyay ookiecay!! Ouyay areyay ayay ittlelay isappointedday omfray ethay acklay ofyay eatstray, utbay ouyay areyay illstay atisfiedsay incesay ouyay ereway ableyay otay asteway omesay imetay eadingray isthay, enwhay ouyay ouldshay avehay eenbay ayingpay attentionyay otay ouryay eachertay.

-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="icon"
      href="https://pbs.twimg.com/profile_images/1109279524636614656/At7h0SJu_400x400.jpg"
    />
    <title>Schedulology</title>
    <link rel="canonical" href="https://salesianschedule.glitch.me" />
    <meta name="description" content="See the bell schedule in realtime" />
    <meta name="robots" content="index,follow" />
    <meta property="og:title" content="Schedulology" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://salesianschedule.glitch.me" />
    <meta
      property="og:description"
      content="See the bell schedule in realtime"
    />
    <meta
      property="og:image"
      content="https://pbs.twimg.com/profile_images/1109279524636614656/At7h0SJu_400x400.jpg"
    />
    <meta name="twitter:card" content="summary" />
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body id="mainbody">
    <button
      id="schedulecalculate"
      type="button"
      style="position: absolute;width: 90%;height: 20%;top: 5%;left: 5%;transform: translate(0%, 0%);font-family:Verdana;font-size:9.3vmin;background:#EDDAB8;color:#000000;"
      onclick="showdetailed()"
    >
      Schedulology
    </button>
    <button
      id="schedulefulllist"
      type="button"
      style="position: absolute;width: 90%;height: 70%;top: 25%;left: 5%;transform: translate(0%, 0%);font-family:Verdana;font-size:3.75vmin;background:#EDDAB8;color:#000000;"
      onclick="showsummary()"
    >
      <img src="https://cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/7b165f20-0f8b-45f6-a543-8afcfa49e5f5.image.png?v=1648656683589">
    </button>
    <a href="https://salesianschedule.glitch.me/" target="_blank">
    <button
      id="magnifybutton"
      type="button"
      hidden="true";
      style="position: absolute;width: 12vmin;height: 12vmin;top: 25%;left: 1%;transform: translate(0%, 0%);font-family:Verdana;font-size:3.75vmin;background:#EDDAB8;color:#FF0000;"
    >
      <img src="https://cdn.glitch.me/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0%2Fmagnifying.png?v=1638913374253" style="top: 0%;left: 0%;transform: translate(0%, 0%);position: absolute;width: 100%;height: 100%">
    </button>
    </a>
    <a href="https://www.salesian.com/calendars" target="_blank">
    <button
      id="calendarbutton"
      type="button"
      style="position: absolute;width: 10vmin;height: 10vmin;top: 25%;left: 5%;transform: translate(0%, 0%);font-family:Verdana;font-size:3.75vmin;background:#EDDAB8;color:#FF0000;"
    >
      <img src="https://cdn.glitch.me/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0%2Fglobe.png?v=1639152822663" style="top: 0%;left: 0%;transform: translate(0%, 0%);position: absolute;width: 100%;height: 100%">
    </button>
    </a>
    <button
      id="viewsheetbutton"
      type="button"
      style="position: absolute;width: 10vmin;height: 10vmin;top: 25%;right: 5%;transform: translate(0%, 0%);font-family:Verdana;font-size:3.75vmin;background:#EDDAB8;color:#FF0000;"
      onclick="expanddoc()"
    >
      <img src="https://cdn.glitch.me/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0%2Fcalenda.png?v=1638915120877" type="button" onclick="expanddoc()" style="top: 0%;left: 0%;transform: translate(0%, 0%);position: absolute;width: 100%;height: 100%">
    </button>
    <button
      id="dresscodebutton"
      type="button"
      style="position: absolute;width: 15vmin;height: 15vmin;bottom: 5%;left: 5%;transform: translate(0%, 0%);font-family:Verdana;font-size:3.75vmin;background:#EDDAB8;color:#FF0000;"
      onclick="clothesdoc()"
      hidden="true"
    >
      <img src="https://cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/ad5c456b-6950-4079-89e4-ffa76478d8e0.image.png?v=1646769988451" style="top: 0%;left: 0%;transform: translate(0%, 0%);position: absolute;width: 100%;height: 100%">
    </button>
    <img id="sccornergraphic" hidden="true" style="position: absolute;width: 20vmin;height: 20vmin;bottom: 5%;right: 5%;transform: translate(0%, 0%);font-family:Verdana;font-size:3.75vmin;">
    <button
      id="schedsheet"
      type="button"
      style="position: absolute;width: 90%;height: 70%;top: 25%;left: 5%;transform: translate(0%, 0%);background:#252525"
      onclick="closedoc()"
      hidden="true"
    >
    <img
      id="schedsheetimg"
      src="https://cdn.glitch.me/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/defaultschedule.jpg?v=1641242952935"
      style="position: absolute;height: 100%;width:100%;left:0;top:0;transform: translate(0%, 0%);object-fit: contain;"
      onclick="closedoc()"
    >
    </button>
    <button
      id="schedsetting"
      hidden="true"
      style="position: absolute;width: 90%;height: 20%;top: 5%;left: 5%;transform: translate(0%, 0%);background:#252525"
      onclick="closedoc()"
    ></button>
    <button
      id="3amcatvideoholder"
      type="button"
      style="position: absolute;width: 50%;height: 30%;top: 20%;left: 0%;transform: translate(50%, 50%);background:#00CCCC"
      onclick="catvideoplay()"
      hidden="true"
    >
      care for a cat video? click me!!
    <video id="3amcatvideo" loop hidden style="position: absolute;width: 100%;height: 100%;top: 50%;left: 50%;transform: translate(-50%, -50%);">
      <source src="" type="video/mp4">
      Your browser does not support HTML5 video.
    </video>
    </button>
    <div id="creditman" class="credits" style="position: absolute;top: -10px;left: 5px;transform: translate(0%, 0%);">
      <p id="first">
        created by <strong>C.J.F.</strong> '22
      </p>
      <p id="second" hidden="true">
        Salesian College Preparatory
      </p>
    </div>
    <a href="https://salesianschedule.glitch.me">
      <p id="betaman" hidden="true" class="credits" style="width:120px;background:#FF8330;position: absolute;top: -10px;right:5px;transform: translate(0%, 0%);z-index: 1;border-radius: 3px;border: 2px solid black;">
          <strong>TESTbuild</strong>
      </p>
    </a>
    
    <button
      id="aprilfoolsmessage"
      type="button"
      style="position: absolute;width: 60%;height: 30%;top: 20%;left: 20%;transform: translate(0%, 0%);background:#000000"
      hidden="true"
    >
      <img src='https://cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/7f27abc8-4286-4051-aa8d-ef3c987a5dcf.image.png?v=1648761739702' style='height:100%'>
    </button>
    
    <button
      id="aprilfoolsmessageyes"
      type="button"
      style="position: absolute;width: 40%;height: 15%;top: 50%;left: 20%;transform: translate(0%, 0%);background:#AAFFAA;font-family:Verdana;font-size:5vmin"
      onclick="aprilfoolsmessage('yes')"
      hidden="true"
    >YES</button>
    <button
      id="aprilfoolsmessageno"
      type="button"
      style="position: absolute;width: 20%;height: 15%;top: 50%;left: 60%;transform: translate(0%, 0%);background:#FFAAAA;font-family:Verdana;font-size:5vmin"
      onclick="aprilfoolsmessage('no')"
      hidden="true"
    >NO</button>
    
    <script>
      function makeHttpObject() {
        try {return new XMLHttpRequest();}
        catch (error) {}
        try {return new ActiveXObject("Msxml2.XMLHTTP");}
        catch (error) {}
        try {return new ActiveXObject("Microsoft.XMLHTTP");}
        catch (error) {}

        throw new Error("Could not create HTTP request object.");
      }
      function setCookie(cname, cvalue, exdays) {
        const d = new Date();
        d.setTime(d.getTime() + (exdays*24*60*60*1000));
        let expires = "expires="+ d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
      }
      function getCookie(cname) {
        let name = cname + "=";
        let decodedCookie = decodeURIComponent(document.cookie);
        let ca = decodedCookie.split(';');
        for(let i = 0; i <ca.length; i++) {
          let c = ca[i];
          while (c.charAt(0) == ' ') {
            c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
          }
        }
        return "";
      }
      
      var sccalcbut = document.getElementById("schedulecalculate");
      var sclister = document.getElementById("schedulefulllist");
      var sccornergraphic = document.getElementById("sccornergraphic");
      var magnifybutton = document.getElementById("magnifybutton");
      var calendarbutton = document.getElementById("calendarbutton");
      var viewsheetbutton = document.getElementById("viewsheetbutton");
      var dresscodebutton = document.getElementById("dresscodebutton");
      var schedsheet = document.getElementById("schedsheet");
      var schedsheetimg = document.getElementById("schedsheetimg");
      var creditman = document.getElementById("creditman");
      var minimode = false;
      var lastcheck = new Date().getHours() * 60 * 60 + new Date().getMinutes() * 60;
      var lastday = new Date().getTime();
      var activeversion = "";
      var request = makeHttpObject();
          request.open("GET", "https://salesianschedule.glitch.me/autoversion", true);
          request.send(null);
          request.onreadystatechange = function() {
            if (request.readyState == 4){
              activeversion = request.responseText
            }
          };
      var catvideo = document.getElementById("3amcatvideo");
      var catvideoframe = document.getElementById("3amcatvideoholder");
      function catvideoplay() {
        if (catvideo.hidden != "") {
          catvideo.hidden = "";
          catvideo.src = "https://files.catbox.moe/vc99dt.mp4";
          catvideo.play();
          catvideoframe.style = "position: absolute;width: 90%;height: 70%;top: 25%;left: 5%;transform: translate(0%, 0%);background:#000000";
          catvideoframe.style.height = schedsheet.style.height;
          catvideoframe.style.width = schedsheet.style.width;
          catvideoframe.style.top = schedsheet.style.top;
          catvideoframe.style.left = schedsheet.style.left;
        }
      }
      if(new Date().getHours() == 3){
        catvideoframe.hidden = "";
      }
      if (window.location !== window.parent.location){
        sccalcbut.style = "position: absolute;width: 98%;height: 24%;top: 1%;left: 1%;transform: translate(0%, 0%);font-family:Verdana;font-size:10vmin;background:#EDDAB8;color:#000000;";
        sclister.style = "position: absolute;width: 98%;height: 74%;top: 25%;left: 1%;transform: translate(0%, 0%);font-family:Verdana;font-size:3.75vmin;background:#EDDAB8;color:#000000;";
        magnifybutton.hidden = false;
        calendarbutton.hidden = true;
        viewsheetbutton.style = "position: absolute;width: 12vmin;height: 12vmin;top: 25%;right: 1%;transform: translate(0%, 0%);font-family:Verdana;font-size:3.75vmin;background:#EDDAB8;color:#FF0000;";
        sccornergraphic.style="position: absolute;width: 20vmin;height: 20vmin;bottom: 1%;right: 1%;transform: translate(0%, 0%);font-family:Verdana;font-size:3.75vmin;";
        schedsheet.style="position: absolute;width: 98%;height: 74%;top: 25%;left: 1%;transform: translate(0%, 0%);background:#252525";
        dresscodebutton.style = "position: absolute;width: 17vmin;height: 17vmin;bottom: 1%;left: 1%;transform: translate(0%, 0%);font-family:Verdana;font-size:3.75vmin;background:#EDDAB8;color:#FF0000;"
      }
        let atest = document.createElement('audio');
        let supportsAAC =  !!(atest.canPlayType && atest.canPlayType('audio/mp4; codecs="mp4a.40.2"').replace(/no/, ''));
        let is_iphone = ['iPhone Simulator','iPhone'].includes(navigator.platform)
      if (is_iphone && !supportsAAC){
        sccalcbut.style = "position: absolute;width: 98%;height: 98%;top: 1%;left: 1%;transform: translate(0%, 0%);font-family:Verdana;font-size:20vmin;background:#EDDAB8;";
        sclister.style = "position: absolute;width: 98%;height: 200%;top: 1%;left: 1%;transform: translate(0%, 0%);font-family:Verdana;font-size:3.5vmin;background:#EDDAB8;";
        magnifybutton.hidden = true;
        calendarbutton.hidden = true;
        viewsheetbutton.style="position: absolute;width: 15vmin;height: 15vmin;top: 1%;right: 1%;transform: translate(0%, 0%);font-family:Verdana;font-size:3.75vmin;background:#EDDAB8;color:#FF0000;"
        schedsheet.style="position: absolute;width: 100%;height: 120%;top: 0%;left: 0%;transform: translate(0%, 0%);background:#252525";
        sccornergraphic.hidden = true;
        sclister.hidden = true;
        creditman.hidden = true;
        minimode = true;
      }
      function showsummary(){
        if (minimode == true){
          sccalcbut.hidden = false;
          sclister.hidden = true;
        }
      }
      var specialopenclicks = 0;
      function showdetailed(){
        specialopenclicks = specialopenclicks + 1;
        if (minimode == true){
          sccalcbut.hidden = true;
          sclister.hidden = false;
        }
      }
      function expanddoc(){
        schedsheetimg.src = schedulesheet
        schedsheet.hidden = false;
        specialopenclicks = 0;
      }
      function clothesdoc(){
        schedsheetimg.src = clothessheet
        schedsheet.hidden = false;
        specialopenclicks = 1000;
      }
      function closedoc(){
        schedsheet.hidden = true;
        if(specialopenclicks==3){
          document.getElementById("mainbody").style.background = document.getElementById("betaman").style.background;
          window.location.replace("https://salesianschedule.glitch.me/beta.html");
        }
        if(specialopenclicks==9){
          catvideoframe.hidden = "";
          catvideoplay();
        }
      }
      
      // "0000|b|Wednesday Faith Families|a|31500|b|36540|b|Block 4|b|0|a|36540|b|37980|b|Break|b|1|a|38280|b|43080|b|Block 2|b|0|a|43080|b|45780|b|Faith Family Meetings|b|0|a|45780|b|48300|b|Lunch|b|1|a|48600|b|53400|b|Block 6|b|0",
      // "0000|b|Wednesday (Extended Lunch)|a|31500|b|36540|b|Block 4|b|0|a|36540|b|37980|b|Break|b|1|a|38280|b|43080|b|Block 2|b|0|a|43080|b|48300|b|Extended Lunch|b|1|a|48600|b|53400|b|Block 6|b|0",
      // "0000|b|Wednesday Early Dismissal|a|31500|b|36540|b|Block 4|b|0|a|36540|b|37980|b|Break|b|1|a|38280|b|43080|b|Block 2|b|0|a|43080|b|45300|b|Lunch|b|1|a|45600|b|50400|b|Block 6|b|0",
      // "0000|b|Holiday|a|0|b|0|b|noclass|b|0",
      // "0000|b|Wednesday (Art Day)|b|cdn.glitch.me/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0%2Fmoreart.png?v=1635364316510|b|cdn.glitch.me/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0%2Fcrayons.png?v=1634689066035|b|!full!cdn.glitch.me/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0%2Fanotherart.png?v=1635363993209|a|31500|b|36540|b|Block 4|b|0|a|36540|b|37980|b|Break|b|1|a|38280|b|43080|b|Block 2|b|0|a|43080|b|44700|b|Lunch|b|0|a|44700|b|46800|b|Art Day (S1)|b|0|a|46800|b|48300|b|Art Day (S2)|b|0|a|48300|b|48300|b|End of Lunch|b|1|a|48600|b|53400|b|Block 6|b|0",
      // "3110|b|Halloween|b|cdn.glitch.me/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0%2Fspooker.png?v=1635489813683|b|cdn.glitch.me/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0%2Fspookaba.jpg?v=1635489808887|b|cdn.glitch.me/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0%2Fspooka.jpg?v=1635489811462|b|F06402|a|0|b|0|b|noclass|b|0",
      // "0000|b|Early Start Wednesday|a|28800|b|33840|b|Block 4|b|0|a|33840|b|35280|b|Break|b|1|a|35580|b|40380|b|Block 2|b|0|a|40380|b|42480|b|Lunch|b|1|a|42780|b|47580|b|Block 6|b|0",
      // "3012|b|Winter Break|b|cdn.glitch.me/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0%2Fwinterlight.png?v=1638985593784|b|cdn.glitch.me/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0%2Fwinter.png?v=1638987890125|b|!full!cdn.glitch.me/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0%2Fwinterlist.png?v=1638988271463|b|8FD3CF|a|0|b|0|b|noclass|b|0",
      
      // title|b|background!dress!specialdresscode|b|simple|b|detail!corner!icon|b|hexcolor
      // exclude HTTP from links
      // !full! anywhere to use full image stretch
      
      var specialschedules = [
        "2701|b|Thursday [PLAYGROUND] (Athletic wear, sports jerseys, sweatpants)|b|cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/backgroun.png?v=1643058150581|b|!full!cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/happytop.png?v=1643198846428|b|!full!cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/sheet.png?v=1643199976535!corner!cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/boscoguy.png?v=1643150838642|a|28800|b|33840|b|Block 5|b|0|a|33840|b|35280|b|Break|b|1|a|35580|b|40380|b|Block 1|b|0|a|40380|b|42480|b|Lunch|b|1|a|42780|b|47580|b|Block 3|b|0|a|47580|b|48300|b|Mini-Break|b|0|a|48600|b|53400|b|Block 7|b|0",
        "2801|b|Friday Bosco Day [FREE DRESS] (with freedress guidelines)|b|cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/backgroun.png?v=1643058150581|b|!full!cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/happytop.png?v=1643198846428|b|!full!cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/sheet.png?v=1643199976535!corner!cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/boscoguy.png?v=1643150838642|a|31500|b|32400|b|Meet Block 6|b|0|a|32400|b|45000|b|Bosco Day!|b|0",
        "2302|b|Wednesday African American Heritage Celebration|b|cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/0c6c3a15-cdf1-41d4-bd7d-06f99a33a670.image.png?v=1645635010171|b||b|!corner!cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/d6440bb2-7740-41ab-b324-9ea9319a8ed5.image.png?v=1645635150964|a|31500|b|36540|b|Block 4|b|0|a|36540|b|37980|b|Break|b|1|a|38280|b|43080|b|Block 2|b|0|a|43080|b|45780|b|AA Heritage Celebration|b|0|a|45780|b|48300|b|Lunch|b|1|a|48300|b|53400|b|Block 6|b|0",
        "0503|b|UCBerkley PiE Event <a href='https://salesianschedule.glitch.me/pie.html'><button style='background:#AAFFFF;'>PRESS</button></a>|a|0|b|0|b|noclass|b|0",
        "0903|b|Wednesday Diversity Club|b|!full!cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/1f9f8b4d-9476-48ab-b1c1-905147f707fe.image.png?v=1646765024073!dress!cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/0852be4e-3cb5-4b7d-b41a-d2f45c52b43d.image.png?v=1646775031117|b||b|!corner!cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/5b0ec64a-195c-4f57-b53c-e73ce9bb4156.image.png?v=1646769314462|a|31500|b|36540|b|Block 4|b|0|a|36540|b|37980|b|Break|b|1|a|38280|b|43080|b|Block 2|b|0|a|43080|b|48300|b|Extended Lunch (Diversity Club Activities)|b|1|a|48300|b|53400|b|Block 6|b|0",
        "0604|b|Wednesday Faith Families|b|!full!cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/6df2e454-06a3-4446-afc8-299e2505e84c.image.png?v=1649095894040!dress!cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/4d78ffe4-c05a-4436-8ccc-1fa997529c4e.image.png?v=1649197569578|b||b|!corner!cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/0363fbdb-a057-4ea7-b2d1-131a725eb24d.image.png?v=1649096162609|a|31500|b|36540|b|Block 4|b|0|a|36540|b|37980|b|Break|b|1|a|38280|b|43080|b|Block 2|b|0|a|43080|b|45780|b|Faith Family Meetings|b|0|a|45780|b|48300|b|Lunch|b|1|a|48600|b|53400|b|Block 6|b|0",
        "0804|b|Salesian Service Day|b||b||b|!corner!cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/boscoguy.png?v=1643150838642|a|28800|b|29400|b|Meet with Faith Families|b|0|a|29400|b|46800|b|Service Day!|b|0",
      ];
      var weekdayschedules = [
        "0000|b|Sunday Weekend|a|0|b|0|b|noclass|b|0",
        "0000|b|Monday Schedule|a|28800|b|31740|b|Block 1|b|0|a|31980|b|34680|b|Block 2|b|0|a|34920|b|37620|b|Block 3|b|0|a|37620|b|39120|b|Break|b|1|a|39420|b|42120|b|Block 4|b|0|a|42360|b|45060|b|Block 5|b|0|a|45060|b|47340|b|Lunch|b|1|a|47640|b|50340|b|Block 6|b|0|a|50580|b|53280|b|Block 7|b|0",
        "0000|b|Tuesday Schedule|a|28800|b|31740|b|Block 3|b|0|a|31980|b|34680|b|Block 2|b|0|a|34920|b|37620|b|Block 4|b|0|a|37620|b|39120|b|Break|b|1|a|39420|b|42120|b|Block 5|b|0|a|42360|b|45060|b|Block 6|b|0|a|45060|b|47340|b|Lunch|b|1|a|47640|b|50340|b|Block 1|b|0|a|50580|b|53280|b|Block 7|b|0",
        "0000|b|Wednesday Schedule|a|31500|b|36540|b|Block 4|b|0|a|36540|b|37980|b|Break|b|1|a|38280|b|43080|b|Block 2|b|0|a|43080|b|45300|b|Lunch|b|1|a|45600|b|50400|b|Block 6|b|0|a|50700|b|53400|b|Community Time|b|0",
        "0000|b|Thursday Schedule|a|28800|b|33840|b|Block 5|b|0|a|33840|b|35280|b|Break|b|1|a|35580|b|40380|b|Block 1|b|0|a|40380|b|42480|b|Lunch|b|1|a|42780|b|47580|b|Block 3|b|0|a|47580|b|48300|b|Mini-Break|b|0|a|48600|b|53400|b|Block 7|b|0",
        "0000|b|Friday Schedule|a|28800|b|31740|b|Block 6|b|0|a|31980|b|34680|b|Block 2|b|0|a|34920|b|37620|b|Block 1|b|0|a|37620|b|39120|b|Break|b|1|a|39420|b|42120|b|Block 3|b|0|a|42360|b|45060|b|Block 4|b|0|a|45060|b|47340|b|Lunch|b|1|a|47640|b|50340|b|Block 5|b|0|a|50580|b|53280|b|Block 7|b|0",
        "0000|b|Saturday Weekend|a|0|b|0|b|noclass|b|0",
      ];
      var schedulesheet = "https://cdn.glitch.me/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/defaultschedule.jpg?v=1641242952935";

      var selectedschedule = "";
      for (i = 0; i < specialschedules.length; i++) {
        if (
          parseInt(new Date().getMonth()) ==
            parseInt(specialschedules[i].substring(2, 4)) - 1 &&
          parseInt(new Date().getDate()) ==
            parseInt(specialschedules[i].substring(0, 2))
        ) {
          selectedschedule = specialschedules[i];
        }
      }

      if (parseInt(new Date().getMonth()) == 3 && parseInt(new Date().getDate()) == 1 && parseInt(new Date().getHours()) >= 8){
        if (getCookie("aprilfools") == null || getCookie("aprilfools") == ""){
          var alittletrolling = [
            "0104|b|Idayfray Eduleschay|a|28800|b|31740|b|Ockblay Ixsay|b|0|a|31980|b|34680|b|Ockblay Otway|b|0|a|34920|b|37620|b|Ockblay Oneyay|b|0|a|37620|b|39120|b|Eakbray|b|1|a|39420|b|42120|b|Ockblay Eethray|b|0|a|42360|b|45060|b|Ockblay Ourfay|b|0|a|45060|b|47340|b|Unchlay|b|1|a|47640|b|50340|b|Ockblay Ivefay|b|0|a|50580|b|53280|b|Ockblay Evensay|b|0",
            "0104|b|Freitag Zeitplan|a|28800|b|31740|b|Klasse Sechs|b|0|a|31980|b|34680|b|Klasse Zwei|b|0|a|34920|b|37620|b|Klasse Eins|b|0|a|37620|b|39120|b|Sich Ausruhen|b|1|a|39420|b|42120|b|Klasse Drei|b|0|a|42360|b|45060|b|Klasse Vier|b|0|a|45060|b|47340|b|Mittagessen|b|1|a|47640|b|50340|b|Klasse Fünf|b|0|a|50580|b|53280|b|Klasse Sieben|b|0",
            "0104|b|Horario Viernes|a|28800|b|31740|b|Clase Seis|b|0|a|31980|b|34680|b|Clase Dos|b|0|a|34920|b|37620|b|Clase Uno|b|0|a|37620|b|39120|b|Descanso|b|1|a|39420|b|42120|b|Clase Tres|b|0|a|42360|b|45060|b|Clase Cuatro|b|0|a|45060|b|47340|b|El Almuerzo|b|1|a|47640|b|50340|b|Clase Cinco|b|0|a|50580|b|53280|b|Clase Siete|b|0",
            "0104|b|Horaire du vendredi|a|28800|b|31740|b|Sixième Classe|b|0|a|31980|b|34680|b|Seconde Classe|b|0|a|34920|b|37620|b|Première Classe|b|0|a|37620|b|39120|b|Pause|b|1|a|39420|b|42120|b|Troisième Classe|b|0|a|42360|b|45060|b|Quatrième Classe|b|0|a|45060|b|47340|b|Déjeuner|b|1|a|47640|b|50340|b|Cinquième Classe|b|0|a|50580|b|53280|b|Septième Classe|b|0",
            "0104|b|ᚠᚱᛁᛞᚨᚤ ᛋᚲᚺᛖᛞᚢᛚᛖ|a|28800|b|31740|b|ᛒᛚᛟᚲᚴᛋᛁᛪ|b|0|a|31980|b|34680|b|ᛒᛚᛟᚲᚴᛏᚹᛟ|b|0|a|34920|b|37620|b|ᛒᛚᛟᚲᚴᛟᚾᛖ|b|0|a|37620|b|39120|b|ᛒᚱᛖᚨᚴᛏᛁᛗᛖ|b|1|a|39420|b|42120|b|ᛒᛚᛟᚲᚴᛏᚺᚱᛖᛖ|b|0|a|42360|b|45060|b|ᛒᛚᛟᚲᚴᚠᛟᚢᚱ|b|0|a|45060|b|47340|b|ᛚᚢᚾᚲᚺᛏᛁᛗᛖ|b|1|a|47640|b|50340|b|ᛒᛚᛟᚲᚴᚠᛁᚡᛖ|b|0|a|50580|b|53280|b|ᛒᛚᛟᚲᚴᛋᛖᚡᛖᚾ|b|0",
            "0104|b|..-. .-. ..|a|28800|b|31740|b|-....|b|0|a|31980|b|34680|b|..---|b|0|a|34920|b|37620|b|.----|b|0|a|37620|b|39120|b|--..--|b|1|a|39420|b|42120|b|...--|b|0|a|42360|b|45060|b|....-|b|0|a|45060|b|47340|b|. .- -|b|1|a|47640|b|50340|b|.....|b|0|a|50580|b|53280|b|--...|b|0",
            "0104|b|🍟📅|a|28800|b|31740|b|📚6️⃣|b|0|a|31980|b|34680|b|📚2️⃣|b|0|a|34920|b|37620|b|📚1️⃣|b|0|a|37620|b|39120|b|🛏️😴|b|1|a|39420|b|42120|b|📚3️⃣|b|0|a|42360|b|45060|b|📚4️⃣|b|0|a|45060|b|47340|b|🥪🕛|b|1|a|47640|b|50340|b|📚5️⃣|b|0|a|50580|b|53280|b|📚7️⃣|b|0",
            "0104|b|<img src='https://cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/49ad7fcf-dccb-4e8d-996d-8f1adfe73da0.image.png?v=1648750092396' style='height:7vmin;width:42vmin;'>|a|28800|b|31740|b|<img src='https://cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/428a7d3e-b4e1-453e-9fa8-c0bc23a7a214.image.png?v=1648749601210' style='height:4.5vmin;width:14vmin;'>|b|0|a|31980|b|34680|b|<img src='https://cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/cd2d239f-c9c9-4882-b9ba-d64395007766.image.png?v=1648749663656' style='height:4.5vmin;width:14vmin;'>|b|0|a|34920|b|37620|b|<img src='https://cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/ddf3398f-16f2-49b8-8197-d685bb7d71cb.image.png?v=1648749789242' style='height:4.5vmin;width:14vmin;'>|b|0|a|37620|b|39120|b|<img src='https://cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/3984570a-4f27-4bc5-8e09-97e287a9dd56.image.png?v=1648749830466' style='height:4.5vmin;width:14vmin;'>|b|1|a|39420|b|42120|b|<img src='https://cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/1cc1a13d-fbbf-4cd3-9947-50428622538b.image.png?v=1648749738662' style='height:4.5vmin;width:14vmin;'>|b|0|a|42360|b|45060|b|<img src='https://cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/ee37fa03-dc79-4446-bbf7-11609f42be6d.image.png?v=1648749763880' style='height:4.5vmin;width:14vmin;'>|b|0|a|45060|b|47340|b|<img src='https://cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/8a3af37f-9d5a-4d06-8c64-b7b22bebbff7.image.png?v=1648749840398' style='height:4.5vmin;width:14vmin;'>|b|1|a|47640|b|50340|b|<img src='https://cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/90b7b103-2988-42f5-a1ac-f19c306acf7e.image.png?v=1648749805065' style='height:4.5vmin;width:14vmin;'>|b|0|a|50580|b|53280|b|<img src='https://cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/fe0de1a6-da4f-4721-b4fa-508c1b0e1272.image.png?v=1648749814612' style='height:4.5vmin;width:14vmin;'>|b|0",
          ];
          selectedschedule = alittletrolling[Math.floor(Math.random() * alittletrolling.length)];
          setTimeout(function(){
            document.getElementById("aprilfoolsmessage").hidden = false;
            document.getElementById("aprilfoolsmessageyes").hidden = false;
            document.getElementById("aprilfoolsmessageno").hidden = false;
          },5000)
        } else {
          var alittletrolling = [
            "cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/60a1a2e5-28c7-43de-9ee5-410c90eac6e7.image.png?v=1648766196660",
            "c.tenor.com/VFFJ8Ei3C2IAAAAM/rickroll-rick.gif",
            "c.tenor.com/VFFJ8Ei3C2IAAAAM/rickroll-rick.gif",
            "cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/7f23f147-130a-4987-86b9-8b84f6895d03.image.png?v=1648784592697",
            "cdn.discordapp.com/emojis/843383173765398538.gif",
            "c.tenor.com/W0pjxAPB9kQAAAAd/the-spongebob-movie-the-spongebob-squarepants-movie.gif",
            "images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/aa10ab5d-82c2-40e3-a748-6d12d7b3702a/devnwan-e2967831-949c-473e-8814-c17719af58a5.gif?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcL2FhMTBhYjVkLTgyYzItNDBlMy1hNzQ4LTZkMTJkN2IzNzAyYVwvZGV2bndhbi1lMjk2NzgzMS05NDljLTQ3M2UtODgxNC1jMTc3MTlhZjU4YTUuZ2lmIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.xlAYgQ2d_ohcKjhziHroiLT0LUR_nRyuwTqiU5gggsU",
            "cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/4b2f4b77-c891-4ae1-a2b8-67cecd6f04d8.image.png?v=1648784782782",
            "cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/8c1961ae-436b-4594-9a82-4de797e75f21.image.png?v=1648787652906",
          ];
          selectedschedule = "0104|b|April Fool's Friday|b||b||b|!full!cdn.glitch.global/187d2ee4-535a-4ad4-a4f5-0e7eedadafb0/23effbdb-6ec4-40c7-a549-72f5c7706be0.image.png?v=1648763144373!corner!" + alittletrolling[Math.floor(Math.random() * alittletrolling.length)] + "|a|28800|b|31740|b|Block 6|b|0|a|31980|b|34680|b|Block 2|b|0|a|34920|b|37620|b|Block 1|b|0|a|37620|b|39120|b|Break|b|1|a|39420|b|42120|b|Block 3|b|0|a|42360|b|45060|b|Block 4|b|0|a|45060|b|47340|b|Lunch|b|1|a|47640|b|50340|b|Block 5|b|0|a|50580|b|53280|b|Block 7|b|0";
          var b = document.getElementById("aprilfoolsmessage");
          b.hidden = false;
          b.innerHTML = "Press to Load Prank";
          b.style.background = "#D34A67";
          b.style.left = "5%";
          b.style.top = "80%";
          b.style.width = "15vmin";
          b.style.height = "15%";
          b.style.fontSize = "3vmin";
          b.onclick = function(){
            b.style.height = '100%';
            b.style.width = '100%';
            b.style.left = "0%";
            b.style.top = "0%";
            setCookie("aprilfools","",.01);
            setTimeout(function(){
              window.location.replace(window.location);
            },500);
          };
        }
      }
      function aprilfoolsmessage(req){
        document.getElementById("aprilfoolsmessageyes").hidden = true;
        document.getElementById("aprilfoolsmessageno").hidden = true;
        var b = document.getElementById("aprilfoolsmessage");
        if(req=='yes'){
          setCookie("aprilfools","nofun",1);
          b.innerHTML = "Happy April Fools!";
          b.style.background = "#D34A67";
          b.style.height = '100%';
          b.style.width = '100%';
          b.style.left = "0%";
          b.style.top = "0%";
          setTimeout(function(){
            if (window.location !== window.parent.location){
              var url = "https://salesianschedule.glitch.me/noaprils.html"
              window.open(url,'_blank');
            } else {
              window.location.replace(window.location);
            }
          },500);
        } else {
          b.innerHTML = "Load New Prank";
          b.style.background = "#D34A67";
          b.style.left = "5%";
          b.style.top = "80%";
          b.style.width = "15vmin";
          b.style.height = "15%";
          b.style.fontSize = "3vmin";
          b.onclick = function(){
            b.style.height = '100%';
            b.style.width = '100%';
            b.style.left = "0%";
            b.style.top = "0%";
            setTimeout(function(){
              window.location.replace(window.location);
            },250);
          };
        }
      }
      if (selectedschedule == "") {
        selectedschedule = weekdayschedules[parseInt(new Date().getDay())];
      }
      if (window.location == "https://salesianschedule.glitch.me/beta.html" || window.location == "http://salesianschedule.glitch.me/beta.html"){
        document.getElementById("betaman").hidden = "";
        //document.getElementById("mainbody").style.background = document.getElementById("betaman").style.background;
      }
      

      // the first set contains schedule basics: [day-of-schedule, event-name]
      // the remaining sets are the periods: [start-time, end-time, period-name, is-transition]
      function encode(sched) {
        var ms = "";
        ms = sched[0][0] + "|b|" + sched[0][1];
        for (i = 1; i < sched.length; i++) {
          ms =
            ms +
            "|a|" +
            sched[i][0] +
            "|b|" +
            sched[i][1] +
            "|b|" +
            sched[i][2] +
            "|b|" +
            sched[i][3];
        }
        return ms;
      }
      function decode(sched) {
        var msg = sched.split("|a|");
        var ms = [];
        for (i = 0; i < msg.length; i++) {
          ms[i] = msg[i].split("|b|");
        }
        ms.splice(1, 0, [ms[1][0] - 600, ms[1][0], "Entrance Bell", 1]);
        ms.splice(ms.length, 0, [
          ms[ms.length - 1][1],
          ms[ms.length - 1][1] - -600,
          "Dismissal",
          0
        ]);
        return ms;
      }
      
      var clothessheet = "";
      var schedule = decode(selectedschedule);
      if(schedule[0][2] !== undefined){
        var theba = schedule[0][2]
        if (schedule[0][2].includes('!full!')){
          document.getElementById("mainbody").style.backgroundSize = '100% 100vh';
        }
        //document.getElementById("mainbody").style.background = "#000000";
        if (schedule[0][2].includes('!dress!')){
          var sp = theba.split('!dress!');
          theba = sp[0];
          clothessheet = 'https://'+sp[1];
          dresscodebutton.hidden = '';
        }
        document.getElementById("mainbody").style.backgroundImage = 'url(https://'+theba.replace('!full!','')+')';
      }
      if(schedule[0][3] !== undefined){
        if (schedule[0][3].includes('!full!')){
          sccalcbut.style.backgroundSize = '100% 100%';
        }
        sccalcbut.style.backgroundImage = 'url(https://'+schedule[0][3].replace('!full!','')+')';
      }
      if(schedule[0][4] !== undefined){
        var theba = schedule[0][4];
        if (schedule[0][4].includes('!full!')){
          sclister.style.backgroundSize = '100% 100%';
        }
        if (schedule[0][4].includes('!corner!')){
          var sp = theba.split('!corner!');
          theba = sp[0];
          sccornergraphic.src = 'https://'+sp[1];
          sccornergraphic.hidden = '';
        }
        sclister.style.backgroundImage = 'url(https://'+theba.replace('!full!','')+')';
      }
      if(schedule[0][5] !== undefined){
        sccalcbut.style.color = '#'+schedule[0][5];
        sclister.style.color = '#'+schedule[0][5];
        calendarbutton.style.background = '#'+schedule[0][5];
        magnifybutton.style.background = '#'+schedule[0][5];
        viewsheetbutton.style.background = '#'+schedule[0][5];
      }
      var thefuture = false;
      var openstamp =
          new Date().getHours() * 60 * 60 +
          new Date().getMinutes() * 60 +
          new Date().getSeconds();

      function calcSchedule() {
        var currenttime =
          new Date().getHours() * 60 * 60 + new Date().getMinutes() * 60;
        var exacttime =
          new Date().getHours() * 60 * 60 +
          new Date().getMinutes() * 60 +
          new Date().getSeconds();
        var activeclass = "n/a";
        sccalcbut.innerHTML = "Out of Session";
        if(new Date().getHours() == 3){
          sccalcbut.innerHTML = "🐱";
        }
        if((schedule[2][2] == "noclass" || currenttime >= schedule[schedule.length-1][1] || new Date().getHours() >= 17) && thefuture == false && exacttime - openstamp > 2){
          selectedschedule = "";
          var dat = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate()+1, new Date().getHours(), new Date().getMinutes(), new Date().getSeconds());
          for (i = 0; i < specialschedules.length; i++) {
            if (
              parseInt(dat.getMonth()) ==
                parseInt(specialschedules[i].substring(2, 4)) - 1 &&
              parseInt(dat.getDate()) ==
                parseInt(specialschedules[i].substring(0, 2))
            ) {
              selectedschedule = specialschedules[i];
            }
          }

          if (selectedschedule == "") {
            selectedschedule = weekdayschedules[parseInt(dat.getDay())];
          }
          schedule = decode(selectedschedule);
          clothessheet = "";
          dresscodebutton.hidden = 'true';
          if(schedule[0][2] !== undefined){
            if (schedule[0][2].includes('!dress!')){
              var sp = schedule[0][2].split('!dress!');
              clothessheet = 'https://'+sp[1];
              dresscodebutton.hidden = '';
            }
          }
          thefuture = true;
        }
        if(currenttime < schedule[2][0] && sccalcbut.innerHTML == "Out of Session"){
          if((Math.trunc((schedule[2][0] - currenttime)/60/60)+1) <= 1){
            sccalcbut.innerHTML = "Starts in " + (schedule[2][0] - currenttime)/60 + " minutes"
          } else {
            sccalcbut.innerHTML = "Starts in " + (Math.trunc((schedule[2][0] - currenttime)/60/60)+1) + " hours"
          }
        }
        sclister.innerHTML = "<b>" + schedule[0][1] + "</b><br>No Classes";
        sccalcbut.style.fontSize = "9.3vmin";
        if (schedule[2][2] != "noclass") {
          for (i = 1; i < schedule.length; i++) {
            if (currenttime >= schedule[i][0] && currenttime < schedule[i][1]) {
              activeclass = schedule[i][2];
              sccalcbut.innerHTML =
                schedule[i][2] +
                " (" +
                (schedule[i][1] - currenttime) / 60 +
                "′)";
              if (schedule[i][2].length >= 12){
                sccalcbut.style.fontSize = "6vmin";
              }
              if (
                schedule[i][3] == "1" ||
                (schedule[i][1] - currenttime) / 60 <= 5
              ) {
                var schedsave = schedule[i][2];
                //theba
                for (i2 = schedule.length - 1; i2 > 0; i2--) {
                  if (
                    currenttime < schedule[i2][0] &&
                    (schedule[i2][3] == "0" ||
                      (schedule[i][1] - currenttime) / 60 <= 5)
                  ) {
                    if (schedule[i][2].length >= 12){
                      sccalcbut.style.fontSize = "5vmin";
                    } else {
                      sccalcbut.style.fontSize = "7vmin";
                    }
                    sccalcbut.innerHTML =
                      schedsave +
                      " (" +
                      (schedule[i][1] - currenttime) / 60 +
                      "′)<br>next is " +
                      schedule[i2][2];
                    if (schedule[i][1] - currenttime <= 60) {
                      sccalcbut.innerHTML =
                        schedsave +
                        " (" +
                        (schedule[i][1] - exacttime - 1) +
                        "″)<br>next is " +
                        schedule[i2][2];
                    }
                  }
                }
              }
            }
          }
          if (
            sccalcbut.innerHTML == "Out of Session" &&
            currenttime >= schedule[1][0] &&
            currenttime < schedule[schedule.length - 1][1]
          ) {
            for (i = schedule.length - 1; i > 0; i--) {
              if (currenttime < schedule[i][0] && schedule[i][3] == "0") {
                activeclass = schedule[i][2];
                sccalcbut.style.fontSize = "7vmin";
                sccalcbut.innerHTML =
                  "transitioning to<br>" +
                  schedule[i][2] +
                  " (" +
                  (schedule[i][0] - exacttime - 1) +
                  "″)";
              }
            }
          }
          var listtext = "<b>" + schedule[0][1] + "</b>";
          for (i = 1; i < schedule.length; i++) {
            var h1 = (schedule[i][0] / 60 / 60).toFixed() - 1;
            var m1 = schedule[i][0] / 60 - h1 * 60;
            if (m1 >= 60) {
              h1 += 1;
              m1 -= 60;
            }
            if (m1 < 10) {
              m1 = "0" + m1;
            }
            if (h1 > 12) {
              h1 -= 12;
            }
            var h2 = (schedule[i][1] / 60 / 60).toFixed() - 1;
            var m2 = schedule[i][1] / 60 - h2 * 60;
            if (m2 >= 60) {
              h2 += 1;
              m2 -= 60;
            }
            if (m2 < 10) {
              m2 = "0" + m2;
            }
            if (h2 > 12) {
              h2 -= 12;
            }
            if (activeclass == schedule[i][2] && thefuture == false) {
              if (schedule[i][2] != "Dismissal"){
                listtext =
                listtext +
                "<br><b>↪" +
                h1 +
                ":" +
                m1 +
                " - " +
                h2 +
                ":" +
                m2 +
                " ─"+new Date((schedule[i][1]-exacttime-1) * 1000).toISOString().substr(12, 7)+"─ " +
                schedule[i][2] +
                "↩</b>";
              } else {
                listtext =
                listtext +
                "<br><b>↪" +
                h1 +
                ":" +
                m1 +
                " ─── " +
                schedule[i][2] +
                "↩</b>";
              }
            } else {
              if (schedule[i][2] != "Dismissal"){
                listtext =
                listtext +
                "<br>" +
                h1 +
                ":" +
                m1 +
                " - " +
                h2 +
                ":" +
                m2 +
                " ─── " +                                                                           
                schedule[i][2];
              } else {
                listtext =
                listtext +
                "<br>" +
                h1 +
                ":" +
                m1 +
                " ─── " +
                schedule[i][2];
              }
            }
          }
          sclister.innerHTML = listtext;
        }
        document.title = "Schedulology";
        if(thefuture==true){
          sccalcbut.innerHTML = "Tomorrow's Schedule"
        }
        if(document.hidden){
          if(sccalcbut.innerHTML.split("<br>")[0] != "transitioning to"){
            document.title = sccalcbut.innerHTML.split("<br>")[0];
          } else {
            document.title = sccalcbut.innerHTML.split("<br>")[1] + " next";
          }
        }
        if(is_iphone){
          sccalcbut.innerHTML = "<b>" + sccalcbut.innerHTML + "</b>";
        }
        if((lastcheck+299 <= currenttime || lastday+43200000 <= new Date().getTime()) && navigator.onLine==true){
          lastcheck = new Date().getHours() * 60 * 60 + new Date().getMinutes() * 60;
          var request = makeHttpObject();
          request.open("GET", "https://salesianschedule.glitch.me/autoversion", true);
          request.send(null);
          request.onreadystatechange = function() {
            if (request.readyState == 4)
              if(activeversion!=request.responseText){
                window.location.replace(window.location);
              }
          };
        }
      }
      function refreshloop() {
        setTimeout("refreshloop()", 1000);
        calcSchedule();
      }
      refreshloop();
    </script>
  </body>
</html>